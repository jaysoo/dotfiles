module.exports = function (config) {

  config.set({
    basePath: '',
    frameworks: ['jasmine'],


    files: [
      //vendor
      "vendor/assets/javascripts/jquery/*.js",
      "client/desktop/vendor/jquery.format-1.2.js",
      "client/desktop/vendor/lodash.compat.js",
      "vendor/assets/javascripts/single_page/*.js",
      "vendor/assets/javascripts/*.js",
      "client/desktop/vendor/**/*.js",
      "spec/javascripts/support/angular-mocks.js",

      //helpers
      "spec/javascripts/support/karma-variables.js",
      "spec/javascripts/support/angular-spec-helpers.js",

      //our patches
      "client/common/i18n.js",
      "spec/javascripts/helpers/*.js",
      "client/common/controller.js",
      "spec/javascripts/support/desktop-template-shim.js",

      //fixtures
      {pattern: 'client/desktop/templates/**/*.hbs', served: true, included: false},

      //code under test
      "client/common/form_creator.js",
      "client/desktop/lib/*.js",
      "client/**/*.js",


      //specs
      "spec/javascripts/common/**/*.js",
      "spec/javascripts/desktop/**/*.js"
    ],

    plugins: [
      'karma-jasmine',
      'karma-chrome-launcher',
      'karma-phantomjs-launcher',
      'karma-junit-reporter'
    ],

    exclude: [
      "**/jquery.flot.categories.js",
      "client/desktop/vendor/simple-require-1.0.0.js",
      "**/underscore.js",
      "**/underscore-1.3.3.js",
      "vendor/assets/javascripts/jasmine-underscore.js",
      "vendor/assets/javascripts/single_page/lodash.js"
    ],




    reporters: ['progress'],

    port: 9876,
    runnerPort: 9100,
    colors: true,
    logLevel: config.LOG_INFO,
    autoWatch: true,
    browsers: ['Chrome'],
    captureTimeout: 60000,
    singleRun: false
  })
}
