define("AngularI18nFilters", function(module){

  var formatNumberWithDefault = function(value, formatter) {
    return _.isNaN(value) ? '--' : formatter(value)
  }

  module.exports = {
    formatNumber: function(number){
      return formatNumberWithDefault(number, Nulogy.NumberHelper.formatNumber)
    },

    formatNumberLong: function(number){
      return formatNumberWithDefault(number, Nulogy.NumberHelper.formatNumberLong)
    },

    uomShort: UOM_SHORT,

    uom: UOM,

    i18n: function (str, options) {
      var uomNames = ['uom', 'UOM', 'unit_of_measure', 'unitOfMeasure'];

      _.each(options, function (value, name) {
        if (_.include(uomNames, name)) options.uom = UOM(value);
        if (typeof value === 'number' && name != "id" && Nulogy.NumberHelper) {
          options[name] = Nulogy.NumberHelper.formatNumber(value);
        }
      });

      return I18n.s_(str).i(options);
    }
  }
})
