Packmanager::Application.routes.draw do

  namespace :wms do
    post "pick_plans/create_or_load_for_job/:job_id" => "pick_plans#create_or_load_for_job",
      :as => "create_or_load_for_job_pick_plan"
    get "pick_plans/show_for_job/:job_id" => "pick_plans#show_for_job",
      :as => "show_for_job_pick_plan"

    resources :planned_shipments, :only => [:index, :show, :edit, :update]
    resources :pick_plans, :only => [:show, :index] do
      member do
        get :validate
      end

      resources :priority_configurations,  :only => [:create, :destroy] do
        member do
          put :reorder
        end
      end
    end
    resources :staging_locations do
      collection do
        post :import_from_csv
      end
    end
  end

  namespace :barcode do
    resources :segments
  end

  namespace :canned_reports do
    resources :job_downtime, :only => [:index]
    resources :inbound_stock_transfer, :only => [:index]
    resources :outbound_stock_transfer, :only => [:index]
    resources :blind_count_completion, :only => [:index]
  end

  resources :edi_status_locations
  resources :edi_skip_locations
  resources :background_tasks do
    collection do
      post :schedule
      post :create_with_errors
      post :create_scheduled
    end
    member do
      put :cancel
    end
  end

  resources :custom_output_attachments do
    member do
      get :download
    end
  end

  resources :custom_outputs do
    collection do
      get :generate_test_output
      get :test
      get :fetch_active
      get :default
      delete :mass_destroy
    end
    member do
      get :fetch
    end
  end

  resource :custom_output_mapping
  resources :edi_configurations
  resources :edi_customer_triggers do
    member do
      post :schedule
      get :open_schedule_dialog
    end
  end

  resources :permissions
  resources :bubbles do
    collection do
      post :reset_acknowledged_status
    end
    member do
      post :acknowledge
    end
  end

  resource :zendesk, :controller => 'zendesk' do
    member do
      get :jwt_auth
    end
  end

  resources :planning_reports do
    collection do
      get :update_row_selection
      get :choose_mrp_subcomponents
      get :material_requirements_planning
      get :can_run_report
      get :expected_subcomponent_availability
      get :choose_can_run_subcomponents
      get :available_to_promise
      get :subcomponent_shortage
      get :expected_finished_good_availability
      post :import_external_inventory_from_csv
    end
  end

  resource :ship_order_subcomponent_requirements_report, :controller => :ship_order_subcomponent_requirements_report
  resource :skid_report, :controller => :skid_report
  match 'inventory_reports/inventory_value(.:format)' => 'inventory_reports#inventory_value'
  resources :workdays
  resources :workflows
  resources :sscc_sequences
  resources :shifts do
    collection do
      get :page
    end
  end

  match 'apis/quickbooks/api' => 'qbwc#api', :as => :quickbooks_api

  resources :job_run_reports do
    collection do
      get :refresh_jobs
    end
  end

  resources :bookmarks do
    resources :bookmark_users
    collection do
      get :menu_list
    end
  end

  resources :bookmark_users

  resources :announcements

  resources :line_reconciliations do
    member do
      post :finalize
      post :reset_line
      post :auto_adjust
    end
    resources :line_reconciliation_items
  end

  resources :nui_child_objects

  resources :nui_objects do
    collection do
      get :jquery_dialog
      get :button
      get :json_table
      get :tabs
      get :form
      get :autocomplete
      get :tabs_basic
      get :title
      get :autocomplete_sku_codes
      get :dropdown
      get :table
      get :autocomplete_sku_codes_2
      get :prototype_one
      get :section
      get :grid
    end
    member do
      put :update_remote_tab_2
      put :update_remote_tab_3
      get :get_remote_tab_1
      get :get_remote_tab_2
      get :get_remote_tab_3
      put :update_remote_tab_1
    end
  end

  resources :cycle_counts do
    collection do
      get :sample_inventory_import
      get :page
      post :delete_selected
    end
    member do
      post :close
      get :adjustments
      get :initial_items
      get :print_pallet_tags
      post :import_from_csv
      post :confirm_all
    end
    resources :cycle_count_items, :shallow => true do
      collection do
        post :multi_add
        get :multi_add_dialog
        get :page
        post :toggle_all_checked_status
        put :mass_update
        get :autopopulate_for_sku
      end
      member do
        post :toggle_checked_status
        post :undo
      end
    end
  end

  resources :integration_informations

  resources :trial_balances

  namespace :inventory do
    resources :snapshot_schedules, :only => [:index, :new, :create, :edit, :update, :destroy]
  end

  resources :inventory_discrepancies do
    member do
      get :print_pallet_tags
    end
  end

  resources :overhead_worksheets

  resources :pallets do
    collection do
      get :by_number
    end
  end

  resource :pallet_tag_creator, :controller => :pallet_tag_creator

  resources :inventory_adjustments do
    collection do
      get :autocomplete_lot_codes
      get :autocomplete_expiry_dates
    end
  end

  resource :edi_transaction_report, :controller => :edi_transaction_report do
    collection do
      get :export_to_csv
    end
  end

  resource :edi_activity_report, :controller => :edi_activity_report

  resources :pick_lists, :only => [:new, :show, :create, :index] do
    member do
      get :print
      post :drop_off
      post :pick_up
      post :cancel_pick
      post :cancel
      post :confirm_cancel
    end
    collection do
      get :show_reservations
      get :reservations_to_edit
      put :update_reservations
      get :calculate_required_reservations
      post :unassign
      post :validate
      post :calculate
      post :unassign_all
    end
  end

  resources :moves, :except => [:new, :destroy] do
    collection do
      put :mass_update
      post :create_from_pick_plan
    end
    member do
      post :close
      get :pick_sheet
      get :wms_pick_sheet
      post :start
      post :print_pallet_tags
    end
    resources :expected_pallet_moves do
      collection do
        put :mass_update
      end
    end
    resources :pallet_moves do
      collection do
        post :create_from_expected
        post :create_many
      end
    end

    resources :expected_unit_moves, :except => [:index, :new, :create] do
      collection do
        put :mass_update
      end
      member do
        post :update_location
      end
    end

    resources :unit_moves, :only => [] do
      collection do
        post :create_from_expected
        post :create_unit_move
      end
    end
  end

  resource :item_cart, :controller => :item_cart do
    collection do
      post :clear_required_items
      post :create_move
      post :build_shipment
      post :quick_pallet_pick
      post :bulk_change_status
      get :load_create_move_dialog
    end
  end

  match 'shipments/request_edi_945' => 'api/edi/uc/sony/oracle/edi945#update'
  match 'shipments/request_shipment_ids_for_edi_945' => 'api/edi/uc/sony/oracle/edi945#index'
  resources :shipments do
    collection do
      get :select_bill_to
      get :to_xml
      get :page_shipments
      get :mass_print_bill_of_lading
      get :mass_print_packing_slip
      post :delete_selected
      get :select_consignee_new
    end
    member do
      get :select_ship_order_edit
      put :select_carrier_new
      get :packing_slip
      get :pick_sheet
      post :ship
      put :select_ship_order_new
      put :select_carrier_edit
      post :recall
      get :select_consignee_edit
      get :print_bill_of_lading
      get :verify
      post :create_from_planned_shipment
    end
    resources :pallet_shipments do
      collection do
        put :mass_update
        put :confirm
        post :create_many
      end
    end
    resources :unit_shipments do
      collection do
        put :mass_update
        put :confirm
      end
    end

    resources :shipment_attachments do
      member do
        get :download
      end
    end
  end

  resource :item_locator, :controller => :item_locator do
    collection do
      post :print_pallet_tags
      get :locate_items
      post :clear
    end
  end

  resources :required_items do
    collection do
      get :new_dialog
      delete :mass_delete
    end
  end

  resources :selected_items do
    collection do
      post :destroy_all
    end
  end

  resources :selected_pallets

  resources :time_cards do
    collection do
      get :between
      post :scanned
      post :date
      get :yesterday
    end
  end

  resources :assembly_procedures do
    member do
      post :update_personnel
    end
    resources :assembly_steps do
      collection do
        get :update_repetitions_per_unit
      end
      member do
        post :lower
        post :higher
      end
    end

    resource :optimizer, :controller => :optimizer
  end

  resources :production_reports do
    collection do
      get :fuji_reports_project_status
      get :reconciliation
      get :lindt_reports_project_status
      post :generate
    end
  end

  resource :recall, :controller => :recall do
    collection do
      get :in_storage
      get :produced
      get :shipped
    end
  end

  resources :item_types, :except => [:new] do
    collection do
      post :import_from_csv
      get :autocomplete_names
    end
  end

  resources :item_classes

  resources :item_categories do
    collection do
      post :import_from_csv
      get :autocomplete_names
    end
  end

  resources :item_families do
    collection do
      get :update_item_families_for_customer
      get :autocomplete_names
    end
  end

  resources :reject_reasons, :except => [:new]
  resources :discrepancy_reasons
  resources :scenario_loss_reasons
  resources :assembly_item_templates do
    collection do
      get :autocomplete_template_ids
      get :autocomplete_descriptions
      post :import_from_csv
      get :autocomplete_names
    end
  end

  match 'receipts/request_edi_944' => 'api/edi/uc/sony/oracle/edi944#update'
  match 'receipts/request_receipt_ids_for_edi_944' => 'api/edi/uc/sony/oracle/edi944#index'
  resources :receipts do
    collection do
      get :to_xml
      get :display_total_subrows
      get :select_vendor
    end
    member do
      get :receipt_sheet
      get :pallet_tags_prawn
      post :create_move
      post :receive
      post :print_pallet_tags
    end
    resources :receipt_items, :except => [:new] do
      collection do
        get :update_fields_for_new
        get :update_fields_for_edit
        put :mass_update
        post :mass_create
      end
    end

    resources :receipt_attachments do
      member do
        get :download
      end
    end
  end

  resources :planned_receipts do
    member do
      post :create_receipt
      get :print_pallet_tags
    end

    resources :planned_receipt_items do
      collection do
        get :update_fields_for_new
      end
      member do
        get :update_fields_for_edit
      end
    end
  end

  resources :invoices do
    collection do
      get :select_customer
      get :page_invoices
      post :delete_selected_invoices
    end
    member do
      get :print_invoice
      post :trigger_edi
    end
    resources :invoice_items do
      collection do
        post :mass_create_invoice_items
        get :update_new_uom
        get :update_existing_uom
        get :find_skus
      end
    end
  end

  match 'ship_orders/create_from_edi' => 'api/edi/uc/sony/oracle/edi940#create'
  resources :ship_orders do
    collection do
      get :print_ship_orders
      get :page
      get :get_ship_order_items
      post :create_planned_shipment
    end
    member do
      get :print_ship_order
      post :seed_item_cart
      post :create_projects
    end
    resources :ship_order_items, :except => [:new, :index] do
      collection do
        get :update_item_information
      end
    end

    resources :ship_order_attachments do
      member do
        get :download
      end
    end
  end

  match 'receive_orders/create_from_edi' => 'api/edi/uc/sony/oracle/edi943#create'
  resources :receive_orders do
    collection do
      get :page
      get :projects
      post :change_received_selected_receive_orders
      post :mass_destroy
      get :export_excel_for_selected_receive_order
      get :sample_receive_order_import
      post :import_from_csv
    end
    member do
      get :print_receive_order_sheet
      post :send_edi_940
      delete :delete_planned_receipt
    end
    resources :receive_order_items do
      collection do
        get :update_item_information
      end
      member do
        post :lower
        post :higher
      end
    end
    resources :receive_order_attachments do
      member do
        get :download
      end
    end
  end

  resources :vendors do
    collection do
      post :import_from_csv
      get :autopopulate_default_receipt_status
      get :autocomplete_names
    end
    member do
      get :integration_information
    end
  end

  resources :carriers do
    collection do
      post :import_from_csv
      get :find_by_name
      get :autocomplete_names
    end
  end

  resources :consignees do
    collection do
      get :page
      post :import_from_csv
      post :copy
      get :autocomplete_names
    end
  end

  resources :quotes do
    collection do
      get :autocomplete_estimator
      get :to_xml
      get :page
      post :delete_selected_quotes
      get :autocomplete_requestor
    end
    member do
      post :create_customer
      post :update_scenarios_statuses
    end
    resources :scenarios do
      member do
        post :import
        post :autocomplete_import
        post :update_from_labour_details
        post :update_from_overhead_worksheet
        get :search_scenarios
        get :build_project
        get :build_ship_order
        post :copy
        post :update_from_materials
      end
    end

    resources :quote_attachments do
      member do
        get :download
      end
    end

  end

  namespace :quoting do
    resources :quotes
  end

  resources :scenarios do
    resources :quoted_bom_items do
      collection do
        get :update_new_subcomponent_information
        get :update_existing_subcomponent_information
        get :search_subcomponents
        post :import_subcomponents
      end
      member do
        post :lower
        post :higher
      end
    end

    resources :scenario_charges do
      member do
        put :change_effective_date
      end
    end

    resources :scenario_attachments, :shallow => true do
      member do
        get :download
      end
    end

    resources :wage_details
  end

  resources :scenario_to_scenario_attachments

  resources :scenario_charges do
    member do
      put :update_overhead_costs
    end
    resources :project_charges
    resources :pallet_charges
  end

  resources :quoted_bom_items do
    collection do
      get :autocomplete_item_codes
    end
  end

  resources :time_reports
  resource :production_planning, :controller => :production_planning do
    collection do
      get :index
      get :previous_time_interval
      get :search
      get :next_time_interval
      get :add_line
      get :page_projects
    end
    member do
      post :ajax_create
      post :ajax_update
    end
  end

  get 'find_all_icg_rules' => 'icg/rules#find_all'
  delete 'delete_selected_icg_rules' => 'icg/rules#delete_selected_rules'

  resources :customers do
    collection do
      post :import
      get :page_quotes
      get :page_customers
      get :overview
      get :autocomplete_names

      get :find_by_name
    end
    member do
      get :integration_information
    end
    resource :customer_access_configuration, :controller => :customer_access_configuration

    post 'icg_sample/generate_lot_code' => 'icg/sample_generation#generate_lot_code'
    post 'icg_sample/interpret_lot_code' => 'icg/sample_generation#interpret_lot_code'
    post 'icg_sample/generate_expiry' => 'icg/sample_generation#generate_expiry'
    post 'icg_sample/interpret_expiry' => 'icg/sample_generation#interpret_expiry'

    match 'icg_rule_wizard' => 'icg/rule_wizard#show', :via => :get
    match 'transition_icg_rule_wizard' => 'icg/rule_wizard#transition', :via => :post
    resource :icg_configuration, :controller => "icg/configuration"
    resources :icg_reference_data_fields, :controller => "icg/reference_data_fields"
    resources :icg_reference_data_rows, :controller => "icg/reference_data_rows" do
      collection do
        delete :delete_all_rows
        post :import
      end
    end
    resources :item_shelf_lives, :controller => 'item_shelf_lives'
    resources :icg_rule_fragments, :controller => "icg/rule_fragments" do
      member do
        post :reorder
      end
    end
  end

  resources :projects do
    collection do
      get :download_sample_csv
      get :select_customer
      post :delete_selected_projects
      get :to_xml
      get :search
      post :close_selected_projects
      get :autocomplete_codes
      post :import_from_csv
      get :autocomplete_codes_with_not_closed_status_and_has_sku
      get :update_lot_expiry
      get :autocomplete_codes_with_open_status_and_has_sku
      get :auto_complete_scenario
    end
    member do
      post :close
      get :print_docket
      get :old_print_docket
      post :create_receive_orders
    end
    resources :jobs
    resources :project_attachments do
      member do
        get :download
      end
    end
  end

  resources :skus do
    collection do
      get :autocomplete_subcomponent_codes
      get :update_uom
      post :mass_update_cost_per_unit_from_subcomponents
      get :item_selector
      get :get_expiry_date_format
      get :mass_print_dockets
      get :to_xml
      post :import_item_assembly_steps_from_csv
      get :autocomplete_auto_backflushed_codes
      get :autocomplete_codes
      post :import_bom_items_from_csv
      get :autocomplete_auto_backflushed_finished_good_codes
      post :user_import_from_csv
      get :autocomplete_finished_good_codes
      post :mass_disable
      get :select_item_shelf_life
    end
    member do
      post :import
      get :print_docket
      get :old_print_docket
      post :update_cost
      get :print_item_label
    end
    resources :bom_items, :except => [:new, :index]

    resources :substitute_bom_items

    resources :sku_attachments do
      member do
        get :download
      end
    end
  end

  resources :accounts, :only => [:new, :create, :index] do

    collection do
      get :user_types
      get :activity
      get :site_activity
      get :login_activity
    end

    member do
      get :warehousee_configuration
      get :accounting_configuration
      get :quoting_configuration
      get :production_configuration
    end

  end

  resource :account, :only => [:show, :update, :edit] do
    resources :master_reference_documents, :shallow => true
  end
  resources :companies, :only => [:new, :index, :create]
  resource :company, :only => [:show, :edit, :update]
  resources :sites, :only => [:new, :create] do
    resource :overhead_category, :controller => :overhead_category
    resources :badge_types do
      collection do
        post :import_from_csv
      end
    end

    resources :overhead_items

    resources :lines do
      collection do
        post :import_from_csv
        get :autocomplete_names
      end
      member do
        post :reset_inventory
      end
    end

    resources :ip_white_list_entries

    resources :rack_locations do
      collection do
        post :import_from_csv
        get :autocomplete_names
      end
    end

    resources :floor_locations do
      collection do
        get :page
        post :import_from_csv
        get :autocomplete_names
      end
    end

    resources :trial_balance_accounts
  end


  resource :site, :only => [:show, :update, :edit]

  resources :downtime_reasons, :except => :destroy

  resources :overhead_items

  resources :outbound_trailers do
    member do
      post :add_pallet
      post :ship
      post :unship
      post :confirm_all_pallets
      put :update_shipment
      put :update_route
    end
    collection do
      get :find_many
    end
    post 'delete_pallet_shipments' => 'outbound_trailers#delete_pallet_shipments'
    put 'pallet_shipments' => 'outbound_trailers#update_pallet_shipments'
  end

  resources :dock_appointments do
    member do
      put :add_ship_order
      delete :delete_ship_order
      post :create_trailer
      put :update_route
      put :cancel
      get :manage_picking
    end

    collection do
      get :find_many
    end
  end


  resources :ship_order_reservations do
    member do
      get "reservations_items_to_show" => "ship_order_reservations#reservations_items_to_show"
      get "reservations_items_to_edit" => "ship_order_reservations#reservations_items_to_edit"
      put "reserve" => "ship_order_reservations#reserve"
    end
  end

  resources :ship_order_pick_lists do
    collection do
      get "print/:ids", to: "ship_order_pick_lists#print"
    end

    member do
      put "cancel"
    end
  end

  resources :ship_order_assigned_inventory do
    member do
      post :unassign
      post :unassign_all
    end
  end

  resources :reservables do
    collection do
      get :by_pallet_number
    end
  end

  resources :jobs do
    collection do
      get :download_sample_csv
      get :print_dockets_for_selected_jobs
      post :delete_selected_jobs
      post :request_subcomponents_for_selected_jobs
      get :update_job_attributes
      get :update_units_expected
      post :import_from_csv
      post :mass_create
      get :update_project_metrics
      get :autocomplete_lot_codes
      get :autocomplete_expiry_dates
    end
    member do
      post :check_pallet_tag_printed_status
      post :update_substitutions
      get :table_edit
      post :update_lots_and_expiries
      post :ship_finished_goods
      post :update_time_reports
      get :table_show
      post :update_production_records
      post :print_pallet_tags
      put :table_update
      post :start
      post :insert_lot_expiries_from_last_job
      post :print_case_labels
      get :clear_lot_expiries
      post :stop
      post :edit_substitutions
      post :produce
      post :transfer_materials
      post :create_move_plan
      get :show_materials_to_transfer
      post :create_isto
      get 'production_focus_view' => 'simple_jobs#show'
    end

    resources :pallets do
      resources :productions do
        resources :subcomponent_consumptions
      end
    end

    resources :job_lot_expiries

    resources :productions do
      collection do
        get :close
        put :mass_update
        put :mass_delete
      end
    end

    resources :breaks do
      collection do
        get :close
        post :create_from_pause
        get :open
      end
      member do
        post :end
      end
    end

    resources :time_reports do
      collection do
        get :close
        post :scanned
        get :open
        put :mass_update
        post :mass_create
      end
    end
    resources :rejected_items do
      collection do
        post :add_reject
        get :select_subcomponent
      end
    end
  end

  resources :qc_sheets do
    collection do
      get :page
    end
  end

  resources :pallets
  resources :locations do
    collection do
      get :autocomplete_line_and_staging_names
      get :autocomplete_staging_names
      get :autocomplete_floor_and_rack_names
      get :autocomplete_names
    end
  end

  resources :subcomponent_consumptions do
    collection do
      get :show_many
    end
  end

  resources :qc_templates do
    member do
      get :table_edit
      get :table_show
      put :table_update
    end
    resources :qc_template_items do
      member do
        post :lower
        post :higher
      end
    end
  end

  resources :accounting_synchronizations do
    collection do
      put :mass_update
      get :page_transactions
    end
  end

  resources :edi_settings do
    collection do
      get :show_edi_configuration
      get :edit_edi_configuration
      put :update_edi_configuration
    end
  end

  resources :edi_mappings do
    collection do
      post :import_from_csv
    end
    member do
      get :edit_mapping
      get :show_mapping
      post :create_mapping
      put :update_mapping
    end
    resources :edi_mapping_items, :shallow => true
  end

  resources :edi_inbounds do
    collection do
      post :reprocess
    end
    member do
      get :xml_from_ship_order_inbound_edi
    end
  end

  resources :edi_outbounds do
    collection do
      get :mcl_conagra_log
      post :mass_update_edi_status
      post :request_edi_945
      get :request_shipment_ids_for_edi_945
    end
    member do
      get :xml_from_shipment_edi_log
    end
  end

  resources :job_reconciliations do
    member do
      get :job_selection
      post :toggle_job
      post :select_all_candidate_jobs
      post :select_most_recent_job
      get :print_line_activity_detail
      post :queue_line_activity_detail
      get :line_activity_detail
      get :compare_and_reconcile
      post :reconcile
      post :update_selected_jobs
      get :print_records
    end
    resources :job_reconciliation_counts, :shallow => true
  end

  resources :inbound_stock_transfer_orders do
    collection do
      get :update_from_job
      get :retrieve_finished_good
      post :create_from_job
    end
    member do
      get :cancel_item_notes
      put :update_item_notes
      get :edit_item_notes
      post :mass_update_items
    end
  end

  resources :inbound_stock_transfers

  resources :inbound_stock_transfer_pallets, :only => [:destroy] do
    member do
      put :complete
    end
  end

  # 1339 - verst wants to use exel's integration workflow
  scope 'api/edi/verst/accelos' do
    resources :edi846, :only => [:create], :controller => 'api/edi/exel/clorox/red_prairie/edi846'
    resources :edi888, :only => [:create], :controller => 'api/edi/exel/clorox/red_prairie/edi888'
    resources :edi944, :only => [:create, :index, :update], :controller => 'api/edi/exel/clorox/red_prairie/edi944'
    resources :edi850, :only => [:index, :update], :controller => 'api/edi/exel/clorox/red_prairie/edi850'
  end

  # 1935 - crescent wants to use belvika's integration workflow
  scope 'api/edi/crescent/hershey/sap' do
    resources :edi810, :only => [:index, :update], :controller =>             'api/edi/belvika/hershey/sap/edi810'
    resources :edi850, :only => [:create], :controller =>                     'api/edi/belvika/hershey/sap/edi850'
    resources :edi856, :only => [:create], :controller =>                     'api/edi/belvika/hershey/sap/edi856'
    resources :edi861, :only => [:index, :update], :controller =>             'api/edi/belvika/hershey/sap/edi861'
    resources :edi861_productions, :only => [:index, :update], :controller => 'api/edi/belvika/hershey/sap/edi861'
    resources :edi944, :only => [:index, :update], :controller =>             'api/edi/belvika/hershey/sap/edi944'
    resources :edi945, :only => [:index, :update], :controller =>             'api/edi/belvika/hershey/sap/edi945'
  end

  # deprecated routes
  scope 'api/edi/exel/red_prairie' do
    resources :edi846, :only => [:create], :controller => 'api/edi/exel/clorox/red_prairie/edi846'
    resources :edi888, :only => [:create], :controller => 'api/edi/exel/clorox/red_prairie/edi888'
    resources :edi944, :only => [:create], :controller => 'api/edi/exel/clorox/red_prairie/edi944'
  end

  # deprecated routes
  scope 'api/edi/mcl/bpcs' do
    resources :edi947, :only => [:index, :update], :controller => 'api/edi/mcl/clorox/bpcs/edi947'
    resources :edi846, :only => [:index, :update], :controller => 'api/edi/mcl/clorox/bpcs/edi846'
  end

  # deprecated routes
  scope 'api/edi/mcl/red_prairie' do
    resources :edi944, :only => [:create], :controller => 'api/edi/mcl/clorox/red_prairie/edi944'
    resources :edi945, :only => [:create], :controller => 'api/edi/mcl/clorox/red_prairie/edi945'
    resources :edi943, :only => [:index, :update], :controller => 'api/edi/mcl/clorox/red_prairie/edi943'
    resources :edi940, :only => [:index, :update], :controller => 'api/edi/mcl/clorox/red_prairie/edi940'
  end

  #Ticket #2050
  scope 'api/edi/mcl/red_prairie/standard' do
    resources :edi943, :only => [:index, :update], :controller => 'api/edi/mcl/conagra/red_prairie/edi943'
    resources :edi940, :only => [:index, :update], :controller => 'api/edi/mcl/conagra/red_prairie/edi940' do
      member do
        post :generate
      end
    end
    resources :edi945, :only => [:create], :controller => 'api/edi/mcl/conagra/red_prairie/edi945'
  end

  namespace :api do
    namespace :xml do
      get "qcloud/job/:id", id: /[0-9,%]+/, controller: "qcloud", action: "job"
      get "qcloud/project/:id", id: /[0-9,%]+/, controller: "qcloud", action: "project"
      get "qcloud/receipt/:id", id: /[0-9,%]+/, controller: "qcloud", action: "receipt"
      get "qcloud/shipment/:id", id: /[0-9,%]+/, controller: "qcloud", action: "shipment"
      get "qcloud/test", controller: "qcloud", action: "test"
      post "actions/outbound_stock_transfers/complete_transfer", :controller => "actions/outbound_stock_transfers", :action => "complete_transfer"
      post ':type', :type => /[^\.]+/, :controller => 'resources', :action => 'create_or_update'
      get ':type/only/:ids', :type => /[^\.]+/, :ids => /[0-9,%]+/, :controller => 'resources', :action => 'only'
      get ':type/find_by', :type => /[^\.]+/, :controller => 'resources', :action => 'find_by'
      get ':type/:id', :type => /[^\.]+/, :id => /[0-9]+/, :controller => 'resources', :action => 'show'
      get ':type/:id/:child_type', :type => /[^\.]+/, :id => /[0-9]+/, :child_type => /[^\.]+/, :controller => 'resources', :action => 'nested_index'

      resources :events
    end

    namespace :monitor do
      resources :background_tasks, :defaults => {:format => :json}, :only => [:status, :performance] do
        collection do
          get :status
          get :performance
        end
      end

      resources :current_inventory_levels, :defaults => {:format => :json}, :only => [:duplicates] do
        collection do
          get :duplicates
        end
      end
    end
  end

  namespace :api do
    namespace :reports do
      resources :report_runs, only: [:create, :show]
    end

    namespace :direct do
      namespace :v1 do
        resources :quotes, :only => [:create, :show]
      end
    end
    namespace :edi do
      namespace :belvika do
        namespace :hershey do
          namespace :sap do
            resources :edi810, :only => [:index, :update]
            resources :edi850, :only => [:create]
            resources :edi856, :only => [:create]
            resources :edi861, :only => [:index, :update]
            resources :edi861_productions, :only => [:index, :update]
            resources :edi944, :only => [:index, :update]
            resources :edi945, :only => [:index, :update]
          end
        end
      end
      namespace :v2 do
        resources :edi940, :only => [:create]
        resources :edi945, :only => [:index, :update]
      end
      namespace :belvika do
        namespace :hersheys do
          namespace :sap do
            resources :edi850, :only => [:create]
          end
        end
      end
      namespace :exel do
        namespace :standard do
          resources :edi850, :only => [:create, :index, :update] do
            member do
              post :generate
            end
          end
          resources :edi888, :only => [:create]
          resources :edi944, :only => [:create, :index, :update]
        end
        namespace :clorox do
          namespace :red_prairie do
            resources :edi846, :only => [:create]
            resources :edi850, :only => [:index, :update] do
              member do
                post :generate
              end
            end
            resources :edi888, :only => [:create]
            resources :edi944, :only => [:create, :index, :update]
          end
        end
      end
      namespace :strive do
        namespace :kraft do
          namespace :red_prairie do
            resources :edi943, :only => [:create, :index, :update]
            resources :edi944, :only => [:create, :index, :update]
            resources :edi947, :only => [:index, :update]
          end
          namespace :sap do
            resources :edi824, :only => [:index, :update]
            resources :edi846, :only => [:index, :update]
            resources :edi850, :only => [:create]
            resources :edi852, :only => [:index, :update] do
              member do
                post :generate
              end
            end
            resources :edi861, :only => [:index, :update]
            resources :edi947, :only => [:index, :update]
          end
        end
      end
      namespace :mcl do
        namespace :clorox do
          namespace :bpcs do
            resources :edi947, :only => [:index, :update]
            resources :edi846, :only => [:index, :update]
          end
          namespace :red_prairie do
            resources :edi944, :only => [:create]
            resources :edi945, :only => [:create]
            resources :edi943, :only => [:index, :update]
            resources :edi940, :only => [:index, :update]
          end
        end
        namespace :conagra do
          namespace :bpcs do
            resources :edi947, :only => [:index, :update] do
              member do
                post :generate
              end
            end
            resources :edi945, :only => [:index, :update]
            resources :edi846, :only => [:index, :update]
            resources :edi944, :only => [:index, :update]
          end
          namespace :red_prairie do
            resources :edi940, :only => [:index, :update] do
              member do
                post :generate
              end
            end
            resources :edi943, :only => [:index, :update]
            resources :edi945, :only => [:create]
          end
        end
      end
      namespace :uc do
        namespace :sony do
          namespace :oracle do
            resources :edi940, :only => [:create]
            resources :edi943, :only => [:create]
            resources :edi944, :only => [:index, :update]
            resources :edi945, :only => [:index, :update]
          end
        end
      end
    end
  end

  resources :users do
    collection do
      post :switch_role
      get :handle_company_selection
      get :handle_account_selection
      post :import_from_csv
      get :handle_role_selection
      get :autocomplete_logins
      get :export_to_csv
      post :update_show_announcement
    end
    member do
      post :update_locale
      post :update_site
      put :update_company
      post :disable
    end
  end

  match '/signup' => 'users#new', :as => :signup
  match '/login' => 'user_sessions#new', :as => :login
  match '/logout' => 'user_sessions#destroy', :as => :logout
  match '/search' => 'search#index', :as => :search
  match '/legacy_mobile' => 'legacy_mobile/user_sessions#new', :as => :legacy_mobile
  resource :user_session do
    collection do
      post :switch
    end
  end

  match '/open_search.xml' => 'search#open_search'
  match '/' => 'user_sessions#new'
  match '/trace' => 'trace#index', :as => :trace
  match ':controller/service.wsdl' => '#wsdl'

  # these routes should be removed once all customers have updated their bookmarks to legacy_mobile or when mobile goes live!
  match '/mobile' => 'legacy_mobile/start#index'
  match '/mobile/start' => 'legacy_mobile/start#index'
  match '/mobile/user_session/new' => 'legacy_mobile/start#index'

  get 'mobile/app' => 'mobile/application#index'
  namespace :mobile do
    resources :moves do
      collection do
        get :search
      end

      member do
        get :moved_inventory, :pick_plan_details, :expected_inventory
      end

      resources :pallet_moves
      resources :unit_moves do
        collection do
          get :update_details
          get :update_to_location
        end
      end
    end

    resources :pick_lists do
      collection do
        get :search
      end

      member do
        get :get_pallet
        put :pickup
        put :dropoff
        put :cancel_pick
      end
    end

    resources :receipts do
      collection do
        get :search
      end

      member do
        post :create_item
        put :update_item
        put :receive
      end
    end

    resources :receive_orders

    resources :skus do
      collection do
        get :search
      end
    end

    resources :vendors do
      collection do
        get :list
      end
    end
  end

  namespace :legacy_mobile do
    match 'logout' => 'user_sessions#destroy', :as => :logout
    resource :user_session
    match 'start' => 'start#index', :as => :start
    match 'receipts/go_to_receive_order' => 'receipts#go_to_receive_order'
    match 'receipts/go_to_planned_receipt' => 'receipts#go_to_planned_receipt'
    match 'receipts/go_to_receipt' => 'receipts#go_to_receipt'
    resource :search, :controller => :search do
      member do
        post :search
      end
    end
    resources :accounts do
      member do
        put :update_configuration
      end
    end
    resources :moves do
      collection do
        post :start_and_assign
      end
      put :unassign_empty_pallets
      member do
        post :close
        get :previous
        get :skip_to_unplanned
        get :skip_to_expected
        get :totals
        get :next
        get :skip_to_actual
      end

      resources :pallet_moves, :shallow => true do
        collection do
          get :previous
          get :next
          get :update_details
          get :update_locations
        end
        member do
        end
      end

      resources :unit_moves, :shallow => true do
        collection do
          get :update_to_location
          get :previous
          get :next
          get :update_details
        end
      end
    end

    resources :outbound_trailers do
      resources :pallet_shipments, controller: "outbound_trailers/pallet_shipments" do
        collection do
          get :confirm_new
          post :confirm
        end
      end
    end
    match 'outbound_trailers/load_trailer' => 'outbound_trailers#load_trailer'

    resources :pallet_details do
      collection do
        get :update_details
      end
    end

    resources :pick_lists, only: [:index, :show] do
      put :unassign_empty_pallets
      collection do
        get :load
      end

      member do
        post :pick_up
        post :drop_off
        get :drop
      end
    end

    resources :receipts do
      member do
        get :previous
        put :change_receive_order
        get :totals
        get :next
      end
      collection do
        post :go_to_receipt
      end
      resources :receipt_items, :shallow => true do
        collection do
          get :autopopulate_from_planned_receipt
          get :update_fields_for_new
          get :previous
          get :next
          post :mass_create
        end
        member do
          get :previous
          get :update_fields_for_edit
          get :next
        end
      end
    end
    resources :shipments do
      collection do
        get :load
        post :switch_to_unit_shipments
        post :switch_to_pallet_shipments
      end
      member do
        get :scan_pallet
        get :ordered_items
        get :confirmed_totals
        get :unconfirmed_totals
      end
      resources :pallet_shipments, :shallow => true
      resources :unit_shipments, :shallow => true
    end
    resources :line_moves do
      member do
        post :choose_line
        post :choose_job
        post :create_pallet_move
        get :update_unit_move_details
        post :create_unit_move
      end
    end
    resources :blind_counts do
      member do
        get :confirm_exit
        post :exit
      end
      resources :blind_count_items, :shallow => true
    end

    resources :outbound_stock_transfers do
      collection do
        get :open
      end
      member do
        post :ready_for_pickup
      end
    end

    resources :outbound_stock_transfer_pallets, :only => [:create, :new], :controller => 'outbound_stock_transfer/pallets' do
      collection do
        post :remove
        post :create_ost
        post :create_from_existing_ost
        get :modify
        get :seed_project
      end
    end

    resources :inbound_stock_transfers, :only => [:create, :new]

    resources :inbound_stock_transfer_items, :only => [:create, :new, :show], :controller => 'inbound_stock_transfer/items' do
      collection do
        get :update_fields_for_new
      end
    end

    resources :inbound_stock_transfer_pallets, :only => [], :controller => 'inbound_stock_transfer/pallets' do
      collection do
        post :complete_and_move
        post :complete
        get :complete
      end
    end
  end

  resources :outbound_stock_transfers do
    member do
      post :make_all_completed
      post :ready_for_pickup
    end
  end

  resources :outbound_stock_transfer_pallets, :controller => "outbound_stock_transfer/pallets" do
    member do
      post :make_completed
      post :make_removed
    end
  end

  resources :blind_counts do
    collection do
      get :page
    end
    member do
      post :close
      post :accept_inventory
      post :accept_count
    end
  end

  post "queue_all_waiting_background_tasks" => "nulogy#queue_all_waiting_background_tasks"
  resources :nulogy, only: [:unassign_empty_pallets, :queue_all_waiting_background_tasks]  do
    collection do
      put :unassign_empty_pallets
    end
  end

  resources :warehouse_zones, only: [:create, :update, :destroy]

  resources :zoning_rules, only: [:create, :update, :destroy]

  resources :email_domains

  resources :expiry_date_formats

  resources :custom_project_field_values

  resources :custom_charge_settings

  resources :company_locales

  get 'simple_jobs/jobs/:id' => 'simple_jobs/jobs#show'
  post 'simple_jobs/jobs/:id/produce' => 'simple_jobs/jobs#produce'
  put 'simple_jobs/jobs/:id/productions/:production_id' => 'simple_jobs/jobs#save_production'
  delete 'simple_jobs/jobs/:id/productions/:production_id' => 'simple_jobs/jobs#delete_production'
  post 'simple_jobs/jobs/:id/accept_materials' => 'simple_jobs/jobs#accept_materials'
  post 'simple_jobs/jobs/:id/print_pallet_tag' => 'simple_jobs/jobs#print_pallet_tag'
  get 'simple_jobs/jobs/:id/consumption_plan' => 'simple_jobs/consumption_plan#show'
  put 'simple_jobs/jobs/:id/consumption_plan' => 'simple_jobs/consumption_plan#update'

  post 'simple_jobs/jobs/:id/moves' => 'simple_jobs/moves#create'
  put 'simple_jobs/moves/:id/close' => 'simple_jobs/moves#close'
  post 'simple_jobs/moves/:id/pallet_moves' => 'simple_jobs/moves#create_pallet_move'
  post 'simple_jobs/moves/:id/unit_moves' => 'simple_jobs/moves#create_unit_move'

  get 'simple_jobs/jobs/:id/validate_case_labels' => 'simple_jobs/jobs#validate_case_labels'
  post 'simple_jobs/jobs/:id/print_case_labels' => 'simple_jobs/jobs#print_case_labels'
  post 'simple_jobs/jobs/:job_id/create_isto' => 'simple_jobs/inbound_stock_transfer_orders#create'
  post 'simple_jobs/jobs/:id/start' => 'simple_jobs/jobs#start'
  post 'simple_jobs/jobs/:id/stop' => 'simple_jobs/jobs#stop'
  post 'simple_jobs/jobs/:id/pause' => 'simple_jobs/jobs#pause'

  match 'reports/true_efficiency' => 'reports#true_efficiency'

  match 'icg_code_generation/generate_lot_code' => 'icg/code_generation#generate_lot_code', :as => 'icg_generate_lot_and_expiry', :via => :get
  match 'icg_code_generation/generate_expiry_date' => 'icg/code_generation#generate_expiry_date', :as => 'icg_generate_expiry', :via => :get
  match 'icg_code_generation/show_generate_lot_code' => 'icg/code_generation#show_generate_lot_code', :as => 'icg_show_generate_lot_code', :via => :get
  match 'icg_code_generation/details' => 'icg/code_generation#details', :as => 'icg_details', :via => :post

  match 'notifications/acknowledge/:id' => 'notifications#acknowledge', :as => 'acknowledge_notifications', :via => :post
  match '/notifications/poll' => 'notification_polling#poll', :as => 'poll_notifications', :via => :post
  match 'notification/test_p' => 'notification_polling#test_permanent', :as => 'test_p_notification', :via => :get
  match 'notification/test_t' => 'notification_polling#test_transient', :as => 'test_t_notification', :via => :get
  match 'jquery_demo/tabs' => 'jquery_demo#tabs'
  match 'jquery_demo/tab1' => 'jquery_demo#tab1'
  match 'jquery_demo/validate_tab1' => 'jquery_demo#validate_tab1'
  match 'jquery_demo/tab2' => 'jquery_demo#tab2'
  match 'jquery_demo/tab3' => 'jquery_demo#tab3'
  match 'nulogy_buttons' => 'fake_buttons#index'
  match 'nulogy_buttons/rjs' => 'fake_buttons#rjs'
  match '/:controller(/:action(/:id))'
end
